<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Mike Gazes" />
  <title>Setup Your Dev Tools</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="pandoc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Setup Your Dev Tools</h1>
<p class="author">Mike Gazes</p>
</header>
<nav id="TOC">
<ul>
<li><a href="#doc-history">Doc history</a></li>
<li><a href="#context">Context</a></li>
<li><a href="#msvc-means-many-things">MSVC means many things</a></li>
<li><a href="#msys2-vs-msvc">MSYS2 vs MSVC</a></li>
<li><a href="#unreal-engine-vs-no-engine-at-all">Unreal Engine vs No engine at all</a></li>
<li><a href="#tasks">Tasks</a></li>
<li><a href="#installation">Installation</a><ul>
<li><a href="#unreal-engine">Unreal Engine</a></li>
<li><a href="#microsoft-visual-studio-code-and-c-extension">Microsoft Visual Studio Code and C++ extension</a></li>
<li><a href="#chocolatey-and-pandoc">Chocolatey and Pandoc</a><ul>
<li><a href="#chocolatey">Chocolatey</a></li>
<li><a href="#pandoc">Pandoc</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 id="doc-history">Doc history</h1>
<p>January 20th, 2019: Start doc. January 23rd, 2019: Visual Studio installer is like a package manager.</p>
<h1 id="context">Context</h1>
<p>Epic Games supports development under Microsoft Visual Studio. The <em>free</em> version is Microsoft Visual Studio Community 2017. This installs the necessary build tools, but a lot of other stuff as well. That bothers a lot of people. It bothered me.</p>
<p>But it turns out the Microsoft Visual Studio installer lets you select what to install. At a minimum, you install the <em>core</em>, which is about 600MB. The core does not include a compiler. To get a compiler, you install one of the pre-defined <em>workload</em> options, probably <code>Desktop development with C++</code> or <code>Game development with C++</code>. You can also do a more granular install of individual components.</p>
<p>To get the <em>leanest</em> set of tools, start with just the <em>core</em> and see if it has what you need.</p>
<p>While not officially supported by Epic Games, community posts claim successful set up of build tools without Microsoft Visual Studio. The most promising thread I found was this one, describing a setup with Microsoft Visual Studio Code: <a href="https://answers.unrealengine.com/questions/761885/possibilities-of-coding-with-microsoft-visual-stud.html" class="uri">https://answers.unrealengine.com/questions/761885/possibilities-of-coding-with-microsoft-visual-stud.html</a></p>
<p>According to the post, Epic Games has some project-setup support for Microsoft Visual Studio Code, a slim code editor environment that does not include any build tools. Using Micrsoft Visual Studio Code lets me focus on the one battle of adding a C++ compiler, so I am starting here instead of jumping straight to a Vim setup. Once I have a working environment with Microsoft Visual Studio Code and the Unreal Engine, Iâ€™ll replace Microsoft Visual Studio Code with Vim.</p>
<p>I want to build my game for Windows, because all four of my computers, including my very expensive VR rig, are running Windows as the primary OS, and it is what my son is used to.</p>
<p>Up to now, my C dev work is ultimately for an embedded target. I only build on my host Windows computer to run the test suite. This is not an <em>application</em> I need to deploy to other computers. Anyone else running my test suite is going to build the TestSuite.exe from source. Building the test suite on Windows makes it sound like I already know how to compile C/C++ on Windows, but that is not the case. I do all of this work in the POSIX environment provided by Cygwin. Such executables do not run without the Cygwin dlls. The simplest deployment option is for the other Windows computers to install Cygwin. I can do this for the computers I own, but this is unrealistic for sharing my games with friends.</p>
<p>There are two choices: MinGW/MSYS2 and MSVC (Microsoft Visual C++).</p>
<p>At first glance MinGW/MSYS2 seems similar to Cygwin. MinGW stands for Minimalist GNU for Windows, meaning it provides the GNU utilies, such as gcc, in a Windows-compatible form. MSYS2 replaces MSYS. MSYS2 provides additional tools for having a POSIX environment.</p>
<p>The difference is in the goal. Cygwin provides developers with a POSIX environment on Windows. MSYS2 is for Linux developers to build Windows ports of their Linux software. This site explains how MSYS2 differs from Cygwin: <a href="https://github.com/msys2/msys2/wiki/How-does-MSYS2-differ-from-Cygwin" class="uri">https://github.com/msys2/msys2/wiki/How-does-MSYS2-differ-from-Cygwin</a></p>
<blockquote>
<p>Cygwin tries to bring a POSIX-compatible environment to Windows so that most software that runs on unices will build and run on Cygwin without any significant modifications. Cygwin provides a large collection of packages containing such software, and libraries for their development.</p>
<p>MSYS2 tries to provide an environment for building native Windows software. MSYS2 provides a large collection of packages containing such software, and libraries for their development. As a large portion of the software uses GNU build tools which are tightly coupled to the unix world, this environment is also POSIX-compatible, and is in fact based on Cygwin.</p>
</blockquote>
<p>So one possible setup is for me to ignore Unreal Engine and Visual Studio entirely, continue using Cygwin for development, but also install MSYS2 for my final native Windows builds.</p>
<h1 id="msvc-means-many-things">MSVC means many things</h1>
<p>MSVC is definitely the more industry standard choice.</p>
<p>What is confusing is that MSVC is an IDE, not just a set of build tools. I think this is where the community of hobbyists struggles. Microsoft is targeting developers used to all-in-one solutions. Linux users, or weirdos like me who use Cygwin, are used to composable utilities, patching them together for the unique configuration that suits their needs. Neither approach is better, it always depends on context. Windows users unfamiliar with the composable-utility approach see this as death by a thousand tools. For the simplicity of installing one tool, they are willing to let Microsoft dictate how they should work.</p>
<p>Microsoft recognizes that developers do not want to be locked into Microsoft Visual Studio, so they modified the Visual Studio installer. The confusing bit is that this only appears in a blog post. It does not appear prominently anywhere on their download page. And of course any guidance from Microsoft or Epic Games recommends people use Microsoft Visual Studio in its entirety. The assumption is that you do not know how to build your own project from source and you do not already have your own editor/IDE that you want to use.</p>
<p>So it turns out the Visual Studio installer acts similar to the Cygwin package manager. It is an executable you run anytime to you want to modify your existing installation. Start with the <em>core</em>. This is only 600MB. Then as you find you need more, run the installer and select the components you need.</p>
<ul>
<li><code>Game development with C++</code> takes 5.49GB, 2.7GB if you exclude the Windows 10 SDK
<ul>
<li>included:
<ul>
<li>Visual Studio C++ core features</li>
<li>Windows Universal C Runtime</li>
<li>Visual C++ 2017 Redistributable Update</li>
<li>VC++ 2017 version 15.x latest v141 tools</li>
</ul></li>
<li>optional:
<ul>
<li>C++ profiling tools</li>
<li>Windows 10 SDK</li>
<li>Cocos</li>
<li>Unreal Engine installer</li>
<li>Visual Studio Android support for Unreal Engine</li>
</ul></li>
</ul></li>
<li><code>Desktop development with C++</code> takes 5.83GB, 2.99GB if you exclude the Windows 10 SDK, and 1.1GB if you exclude all of the optional items
<ul>
<li>included:
<ul>
<li>Visual Studio C++ core features</li>
</ul></li>
<li>optional
<ul>
<li>Just-In-Time debugger</li>
<li>VC++ 2017 version 15.x latest v141 tools</li>
<li>C++ profiling tools</li>
<li>Windows 10 SDK</li>
<li>Visual C++ tools for CMake</li>
<li>Visual C++ ATL for x86 and x64</li>
<li>Test Adapter for Boost.Test</li>
<li>Test Adapter for Google.Test</li>
</ul></li>
</ul></li>
<li><code>Linux development with C++</code> takes 5.24GB
<ul>
<li>included:
<ul>
<li>Visual Studio C++ core features</li>
<li>Windows Universal C Runtime</li>
<li>Visual C++ for Linux Development</li>
</ul></li>
<li>optional:
<ul>
<li>Visual C++ tools for CMake and Linux</li>
<li>Embedded and IoT Development</li>
</ul></li>
</ul></li>
</ul>
<p>You can run Visual Studio with just the <em>core</em>. This is different from Visual Studio Code, the lean text editor/IDE.</p>
<ul>
<li>[ ] determine if you can compile with just this, I suspect not</li>
</ul>
<p>The next step up would be to select the <code>Desktop development with C++</code> and remove all of the optional components.</p>
<ul>
<li>[ ] determine if you can compile with just this</li>
</ul>
<h1 id="msys2-vs-msvc">MSYS2 vs MSVC</h1>
<p>Assume for the moment that I am able to build and deploy native Windows applications with MSYS2 or MSVC with equal success. I am not referring to the experience of installing a binary on an unknown Windows target, not the build experience.</p>
<p>MSVC feels like Iâ€™m jumping through a lot of hoops just to do what Iâ€™m used to doing now with my Vim, gcc, and make. MSYS2 sounds like I can continue developing as usual and just get the Windows build piece when I need it.</p>
<h1 id="unreal-engine-vs-no-engine-at-all">Unreal Engine vs No engine at all</h1>
<p>It will be interesting to see if Unreal recognizes g++ after I install MSYS2. If not, I think Iâ€™ll abandon Unreal for now and just stick with SDL2 and OpenGL. So the final set of tools I need for game development is looking like this:</p>
<ul>
<li>IDE:
<ul>
<li>Cygwin</li>
<li>Vim</li>
</ul></li>
<li>Compiler:
<ul>
<li>Cygwin</li>
<li>gcc / clang</li>
</ul></li>
<li>Debugger:
<ul>
<li>Cygwin</li>
<li>gdb</li>
</ul></li>
<li>Development builds:
<ul>
<li>Cygwin</li>
<li>Make</li>
<li>CMake?</li>
</ul></li>
<li>libs:
<ul>
<li>SDL2</li>
<li>OpenGL</li>
</ul></li>
<li>Release Build:
<ul>
<li>MSYS2</li>
<li>gcc / clang</li>
<li>SDL2.dll (do not statically link to SDL2)</li>
</ul></li>
</ul>
<h1 id="tasks">Tasks</h1>
<ul>
<li>[ ] install Unreal Engine and Microsoft Visual Studio Code with C++ extension</li>
<li>[ ] identify a suitable C++ compiler</li>
<li>[ ] invoke the compiler from Microsoft Visual Studio Code</li>
<li>[ ] build a small project using Unreal Engine and Microsoft Visual Studio Code</li>
<li>[ ] build the same project using Unreal Engine and Vim</li>
<li>[ ] identify a unit-test framework for C++</li>
<li>[ ] automate unit-testing with Vim</li>
</ul>
<h1 id="installation">Installation</h1>
<h2 id="unreal-engine">Unreal Engine</h2>
<ol type="1">
<li>Create an Epic Games account.</li>
<li>Run the installer for the Epic Games Launcher.</li>
<li>Sign into the Epic Games Launcher.</li>
<li>Click on <em>Unreal Engine</em> in the Epic Games Launcher and install the engine. This takes a while.</li>
<li>Launch the <em>Unreal Engine</em>.</li>
</ol>
<h2 id="microsoft-visual-studio-code-and-c-extension">Microsoft Visual Studio Code and C++ extension</h2>
<ol type="1">
<li>Download Visual Studio Code.</li>
<li>Install Visual Studio Code.</li>
<li>Run Visual Studio Code. Click <em>Extensions View</em> on left sidebar, find <code>c++</code>, click <em>Install</em>, click <em>Reload</em>.</li>
</ol>
<h2 id="chocolatey-and-pandoc">Chocolatey and Pandoc</h2>
<p>I use Pandoc to generate HTML documentation from markdown. Install Pandoc with Chocolatey.</p>
<h3 id="chocolatey">Chocolatey</h3>
<ol type="1">
<li>Launch PowerShell as an Administrator and run this command:</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode powershell"><code class="sourceCode powershell"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">iex</span> ((<span class="fu">New-Object</span> System.<span class="fu">Net</span>.<span class="fu">WebClient</span>).<span class="fu">DownloadString</span>(&#39;https://chocolatey.<span class="fu">org</span>/install.<span class="fu">ps1</span>&#39;))</a></code></pre></div>
<ol start="2" type="1">
<li>Restart PowerShell as non-Admin.</li>
<li>View Chocolatey help:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode powershell"><code class="sourceCode powershell"><a class="sourceLine" id="cb2-1" title="1">choco /? | less</a></code></pre></div>
<ol start="4" type="1">
<li>Surprisingly to me, Chocolatey also runs under Cygwin. One benefit of this is viewing help from the Cygwin installation of Vim. For example, <code>mintty</code> from PowerShell to open a bash terminal, then create a help file for the <code>install</code> command and open it in Vim:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="ex">choco</span> install -help <span class="op">&gt;</span> choco-install.md</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="ex">vim</span> choco-install.md</a></code></pre></div>
<h3 id="pandoc">Pandoc</h3>
<ol type="1">
<li>Run PowerShell as Administrator and install <em>pandoc</em> with this command:</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode powershell"><code class="sourceCode powershell"><a class="sourceLine" id="cb4-1" title="1">choco install pandoc</a></code></pre></div>
<ol start="2" type="1">
<li>Generate HTML documentation:</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1"><span class="ex">pandoc</span> -f markdown doc/dev-setup.md -s -o doc/dev-setup.html -c pandoc.css --toc</a></code></pre></div>
<p>Note the style is included with <code>-c pandoc.css</code> and not <code>-c doc/pandoc.css</code>, even though <code>pandoc.css</code> is in the <code>doc</code> folder.</p>
</body>
</html>
